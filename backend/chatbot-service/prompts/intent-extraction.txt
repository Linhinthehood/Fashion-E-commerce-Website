Extract search parameters from this user message: "{userMessage}"

Return ONLY a JSON object with these fields:
{
  "intent": "search|recommendation|question|general|order|out-of-topic",
  "category": "Apparel|Footwear|Accessories|null",
  "articleType": "Shirt|Pants|Watch|Casual shoes|Sandals|Wallet|Baseball cap|null",
  "articleTypes": ["Shirt", "Pants", "Accessories"] (array for multiple types),
  "brand": "brand name|null",
  "color": "color name|null",
  "gender": "Men|Women|Boys|Girls|Male|Female|Unisex|null",
  "priceRange": "budget|affordable|mid-range|premium|null",
  "occasion": "interview|wedding|party|casual|formal|work|gym|null",
  "orderQuery": "list|status|track|details|null"
}

CRITICAL RULES:
========================================

üö® STYLE WORDS ARE OCCASIONS:
When user says "formal shirt", "casual pants", "sport shoes":
- "formal" ‚Üí occasion: "formal"
- "casual" ‚Üí occasion: "casual"  
- "sport"/"sporty"/"gym" ‚Üí occasion: "gym"

Examples:
- "show me formal shirts" ‚Üí {"intent":"search","articleType":"Shirt","occasion":"formal"}
- "casual pants" ‚Üí {"intent":"search","articleType":"Pants","occasion":"casual"}
- "sport shoes" ‚Üí {"intent":"search","category":"Footwear","occasion":"gym"}
- "formal outfit" ‚Üí {"intent":"recommendation","occasion":"formal","articleTypes":["Shirt","Pants","Watch"]}

OUTFIT KEYWORDS (require articleTypes array):
- "outfit", "complete look", "set", "combination", "ensemble"
- "group of", "matching", "pair with", "goes with"
- "shirt AND pants", "pants AND shoes", "top AND bottom"
- ANY occasion word (wedding, party, interview, etc.)

INTENT CLASSIFICATION RULES:

1. "general" ‚Üí Greetings, thanks, small talk (NO product search needed)
   Examples: "hello", "hi", "hey", "thanks", "thank you", "good morning", "how are you", "goodbye", "bye"

2. "search" ‚Üí Looking for SPECIFIC products to browse/buy
   Examples: "show me shirts", "do you have watches", "red dresses", "Nike shoes", "men's pants", "formal shirts"

3. "recommendation" ‚Üí Asking for SUGGESTIONS or advice on what to buy/wear
   Keywords: "suggest", "recommend", "what should I", "which item", "what goes with", "what matches", "suitable for", "best for", "help me choose", "outfit", "complete look"
   Examples: "what should I wear to a wedding", "suggest something for party", "what goes well with black pants", "recommend shoes for running"

4. "question" ‚Üí Fashion-related HOW-TO or informational questions
   Examples: "how to care for leather", "what size should I get", "how to style oversized shirts", "what's the difference between chinos and khakis"

5. "order" ‚Üí Questions about USER'S ORDERS, tracking, order status, order history
   Keywords: "my order", "my orders", "order status", "track order", "where is my order", "order history", "recent orders", "purchase history"

6. "out-of-topic" ‚Üí NOT related to fashion/shopping at all
   Examples: "what's the weather", "how to cook pasta", "who won the game", "fix my computer", "capital of France"

========================================
CLASSIFICATION EXAMPLES:
========================================

GENERAL (greetings/small talk):
- "hello" ‚Üí {"intent":"general"}
- "hi there" ‚Üí {"intent":"general"}
- "thanks" ‚Üí {"intent":"general"}

SEARCH WITH STYLE/OCCASION (MOST IMPORTANT):
- "show me formal shirts" ‚Üí {"intent":"search","articleType":"Shirt","occasion":"formal"}
- "formal pants" ‚Üí {"intent":"search","articleType":"Pants","occasion":"formal"}
- "casual shirt" ‚Üí {"intent":"search","articleType":"Shirt","occasion":"casual"}
- "sport shoes" ‚Üí {"intent":"search","category":"Footwear","occasion":"gym"}
- "gym clothes" ‚Üí {"intent":"search","category":"Apparel","occasion":"gym"}
- "work pants" ‚Üí {"intent":"search","articleType":"Pants","occasion":"work"}

SEARCH WITHOUT OCCASION:
- "show me shirts" ‚Üí {"intent":"search","category":"Apparel","articleType":"Shirt"}
- "do you have red watches" ‚Üí {"intent":"search","category":"Accessories","articleType":"Watch","color":"red"}
- "Nike shoes" ‚Üí {"intent":"search","category":"Footwear","brand":"Nike"}
- "men's pants" ‚Üí {"intent":"search","category":"Apparel","articleType":"Pants","gender":"Male"}

RECOMMENDATION - SINGLE ITEM:
- "recommend a shirt" ‚Üí {"intent":"recommendation","category":"Apparel","articleType":"Shirt"}
- "suggest formal shoes" ‚Üí {"intent":"recommendation","category":"Footwear","occasion":"formal"}
- "what pants can I pair with this shirt" ‚Üí {"intent":"recommendation","category":"Apparel","articleType":"Pants"}

RECOMMENDATION - OUTFIT (MULTIPLE ITEMS):
‚ö†Ô∏è CRITICAL: These MUST return articleTypes ARRAY with multiple types!

- "what should I wear to a wedding" ‚Üí {"intent":"recommendation","occasion":"wedding","articleTypes":["Shirt","Pants","Watch"]}
- "suggest something for a party" ‚Üí {"intent":"recommendation","occasion":"party","articleTypes":["Shirt","Pants","Watch"]}
- "recommend an outfit for job interview" ‚Üí {"intent":"recommendation","occasion":"interview","articleTypes":["Shirt","Pants","Watch"]}
- "formal outfit" ‚Üí {"intent":"recommendation","occasion":"formal","articleTypes":["Shirt","Pants","Watch"]}
- "casual outfit" ‚Üí {"intent":"recommendation","occasion":"casual","articleTypes":["Shirt","Pants"]}
- "outfit for gym" ‚Üí {"intent":"recommendation","occasion":"gym","articleTypes":["Shirt","Pants","Casual shoes"]}

‚ö†Ô∏è Multi-item requests with "AND":
- "recommend shirt and pants for party" ‚Üí {"intent":"recommendation","occasion":"party","articleTypes":["Shirt","Pants"]}
- "suggest shirt and pants" ‚Üí {"intent":"recommendation","articleTypes":["Shirt","Pants"]}
- "formal shirt and pants" ‚Üí {"intent":"recommendation","occasion":"formal","articleTypes":["Shirt","Pants"]}

QUESTION (fashion advice):
- "how to care for leather shoes" ‚Üí {"intent":"question","category":"Footwear"}
- "what size should I get" ‚Üí {"intent":"question"}

ORDER (order-related queries):
- "show my orders" ‚Üí {"intent":"order","orderQuery":"list"}
- "where is my order" ‚Üí {"intent":"order","orderQuery":"track"}
- "order status" ‚Üí {"intent":"order","orderQuery":"status"}

OUT-OF-TOPIC (non-fashion):
- "what's the weather like" ‚Üí {"intent":"out-of-topic"}
- "how do I cook pasta" ‚Üí {"intent":"out-of-topic"}

========================================
IMPORTANT DETECTION RULES:
========================================

STYLE/OCCASION DETECTION (CRITICAL):
1. "formal" in message ‚Üí set occasion: "formal"
2. "casual" in message ‚Üí set occasion: "casual"
3. "sport"/"sporty"/"gym"/"workout" ‚Üí set occasion: "gym"
4. "work"/"office" ‚Üí set occasion: "work"
5. "wedding" ‚Üí set occasion: "wedding"
6. "party"/"celebration" ‚Üí set occasion: "party"
7. "interview" ‚Üí set occasion: "interview"

OUTFIT DETECTION:
1. IF message contains: "outfit", "complete look", "set", "combination" ‚Üí USE articleTypes array
2. IF message mentions occasion (wedding, party, interview, work, formal, casual) ‚Üí USE articleTypes array
3. IF message mentions 2+ product types with "and" ‚Üí USE articleTypes array

GENDER DETECTION:
- "women", "women's", "female", "for her", "ladies", "girls" ‚Üí "Female"
- "men", "men's", "male", "for him", "gentleman", "boys" ‚Üí "Male"
- "unisex", "for everyone", "anyone" ‚Üí "Unisex"

Return ONLY valid JSON, no explanations.